var q=Object.defineProperty,M=Object.defineProperties;var z=Object.getOwnPropertyDescriptors;var F=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,K=Object.prototype.propertyIsEnumerable;var A=(e,r,s)=>r in e?q(e,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[r]=s,_=(e,r)=>{for(var s in r||(r={}))U.call(r,s)&&A(e,s,r[s]);if(F)for(var s of F(r))K.call(r,s)&&A(e,s,r[s]);return e},E=(e,r)=>M(e,z(r));import{j as t,a as n,L as g,P as i,r as a,R as C,S as V,c as m,b as Y,d as f,u as L,e as P,f as J,g as O,h as w,i as I,k as Q,l as v,m as W,n as X,o as Z,B as ee}from"./vendor.402b04e3.js";const te=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const l of d.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerpolicy&&(d.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?d.credentials="include":c.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}};te();var re="/assets/logo.6941e179.svg";const se=()=>t("header",{className:"header",children:t("div",{className:"header__wrapper",children:n("div",{className:"header__inner",children:[t("div",{className:"logo",children:t("img",{src:re,alt:"logo"})}),t("nav",{children:n("ul",{children:[t("li",{children:t(g,{to:"/",children:"Home"})}),t("li",{children:t(g,{to:"/products",children:"Products"})}),t("li",{children:t(g,{to:"/products/create",children:"Create"})})]})})]})})});const y=e=>t("div",{className:"card",children:n(g,{to:`/product/${e.id}`,children:[t(k,{width:"300px",height:"200px",src:e.image,alt:e.breed}),n("div",{className:"card__text",children:[t("p",{children:e.name}),t("p",{children:e.breed})]})]})});y.propTypes={id:i.string,name:i.string.isRequired,breed:i.string.isRequired,image:i.string.isRequired};const ce=()=>t("footer",{className:"footer",children:t("div",{className:"footer__wrapper",children:t("div",{className:"copyright",children:t("p",{children:"2021 \xA9 COPYRIGHT"})})})});const p={LOADING:0,LOADED:1,FAILED:2},k=({src:e,alt:r})=>{const[s,o]=a.exports.useState(p.LOADING);a.exports.useEffect(()=>{o(p.LOADING);const d=new Image;d.onload=()=>{o(p.LOADED)},d.onerror=()=>{o(p.FAILED)},d.src=e},[e]);const c=d=>{switch(d){case p.LOADING:return t(V,{width:300,height:200});case p.LOADED:return t("img",{src:e,alt:r});case p.FAILED:return t("img",{src:"https://uzex.uz/images/blog/image_not_found.png",alt:"not found"})}};return t(C.Fragment,{children:c(s)})};k.propTypes={src:i.string,alt:i.string};const h=m("products/fetchProducts",async function(){return(await f.get("http://localhost:3001/products")).data}),oe=m("products/fetchProducts",async function(e){return(await f.get(`http://localhost:3001/products/${e}/edit`)).data}),ne=m("products/fetchProducts",async function(e){return(await f.get(`http://localhost:3001/product/${e}`)).data}),b=m("products/createProduct",async function(e,{dispatch:r}){const s=await f.post("http://localhost:3001/products/",e);return r(de(s.data)),s.data}),S=m("products/deleteProduct",async function(e,{dispatch:r}){await f.delete(`http://localhost:3001/products/${e}`),r(ie(e))}),x=m("products/editProduct",async function(e){await f.put(`http://localhost:3001/products/${e._id}`,e)}),R=Y({name:"products",initialState:{list:[],status:null,error:null},reducers:{addProduct(e,r){e.list.push(r.payload)},removeProduct(e,r){e.filter(s=>s!==r.payload)}},extraReducers:{[h.pending]:e=>e,[h.fulfilled]:(e,r)=>(e.list=r.payload,e),[h.rejected]:e=>e,[b.pending]:e=>e,[b.fulfilled]:e=>e,[b.rejected]:e=>e,[S.pending]:e=>e,[S.fulfilled]:e=>e,[S.rejected]:e=>e,[x.pending]:e=>e,[x.fulfilled]:e=>e,[x.rejected]:e=>e}}),{addProduct:de,removeProduct:ie}=R.actions;var ae=R.reducer;const j=()=>{const e=L(o=>o.products.list),r=P();return a.exports.useEffect(()=>{r(h())},[]),a.exports.useEffect(()=>{document.title="Home Page"},[]),n("div",{className:"home__wrapper",children:[t("h1",{children:"Home Page"}),t(J,E(_({className:"home-slider"},{dots:!1,infinite:!1,speed:500,slidesToShow:3,slidesToScroll:3,initialSlide:0,responsive:[{breakpoint:1280,settings:{slidesToShow:3,slidesToScroll:3,infinite:!0,dots:!1}},{breakpoint:700,settings:{slidesToShow:2,slidesToScroll:2,initialSlide:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}},{breakpoint:320,settings:{slidesToShow:1,slidesToScroll:1}}]}),{children:(e||[]).slice(0,8).map(o=>t(y,{id:o._id,image:o.image,name:o.name,breed:o.breed},o._id))}))]})};j.propTypes={products:i.array};const B=()=>{const e=L(s=>s.products.list),r=P();return a.exports.useEffect(()=>{r(h())},[]),a.exports.useEffect(()=>{document.title="Product Page"},[]),n("div",{className:"product__wrapper",children:[t("h1",{children:"Product Page"}),t("div",{className:"cards",children:(e||[]).map(s=>t(y,{id:s._id,image:s.image,name:s.name,breed:s.breed},s._id))})]})};B.propTypes={products:i.array};function $({name:e,value:r,type:s,onChange:o,label:c}){return n("div",{className:"themed-input",children:[t("label",{htmlFor:e,children:c}),t("input",{onChange:o,type:s,value:r,name:e})]})}$.propTypes={name:i.string,value:i.string,type:i.string,onChange:i.func,label:i.string};const le={name:"",breed:"",image:"",phone:"",price:"",address:"",desc:"",country:"",color:""},ue={name:"Name",breed:"Breed",image:"Image URL",phone:"Phone",price:"Price",address:"Address",desc:"Description",country:"Country",color:"Color"},D=({product:e,onFormSubmit:r,submitText:s})=>{const[o,c]=a.exports.useState(le),[d,l]=a.exports.useState(!1);a.exports.useEffect(()=>{!e||c(e)},[e]);const N=a.exports.useCallback(u=>{c(E(_({},o),{[u.target.name]:u.target.value}))},[o,c]),T=a.exports.useCallback(u=>{u.preventDefault(),Object.values(o).filter(H=>H).length<9?(l(!0),setTimeout(()=>{l(!1)},2e3)):r(o)},[r,o]);return n("form",{className:"form-create-edit",onSubmit:T,children:[Object.keys(o).filter(u=>u!=="_id"&&u!=="__v").map(u=>t($,{name:u,label:ue[u],type:"text",value:o[u],onChange:N},u)),t("input",{type:"submit",value:s}),d&&t("p",{children:"\u0417\u0430\u043F\u043E\u043B\u043D\u0438\u0442\u0435 \u0432\u0441\u0435 \u043F\u043E\u043B\u044F!"})]})};D.propTypes={product:i.object,onFormSubmit:i.func,submitText:i.string};function pe(){const{id:e}=O(),r=w(),[s,o]=a.exports.useState(""),c=P();return a.exports.useEffect(()=>{(N=>{c(oe(N)).then(I).then(T=>{o(T),c(h())})})(e)},[]),n("div",{className:"create__product",children:[t("h2",{children:"Product form"}),t(D,{product:s,onFormSubmit:l=>{c(x(l)).then(()=>{r("/products")})},submitText:"Edit"})]})}const G=()=>{const[e,r]=a.exports.useState(),s=P(),o=w();let{id:c}=O();const d=async l=>{await s(S(l)).then(()=>{o("/products")})};return a.exports.useEffect(()=>{s(ne(c)).then(I).then(l=>{r(l),s(h())})},[]),e?n("div",{className:"product",children:[t(y,{id:c,image:e.image,name:"",breed:""},e.id),n("div",{className:"product-list",children:[n("ul",{children:[n("li",{children:[t("p",{children:"Name:"}),t("p",{children:e.name})]}),n("li",{children:[t("p",{children:"Breed:"}),t("p",{children:e.breed})]}),n("li",{children:[t("p",{children:"Color:"}),t("p",{children:e.color})]}),n("li",{children:[t("p",{children:"Image:"}),t("p",{children:e.image})]}),n("li",{children:[t("p",{children:"Country:"}),t("p",{children:e.country})]}),n("li",{children:[t("p",{children:"Price:"}),t("p",{children:e.price})]}),n("li",{children:[t("p",{children:"Phone:"}),t("p",{children:e.phone})]}),n("li",{children:[t("p",{children:"Description:"}),t("p",{children:e.desc})]}),n("li",{children:[t("p",{children:"Address:"}),t("p",{children:e.address})]})]}),n("div",{className:"product-link",children:[t(g,{to:`/products/${c}/edit/`,children:"Edit"}),t("button",{onClick:()=>d(c),children:"Delete"})]})]})]}):"Not found..."};G.propTypes={id:i.object};function he(){const e=w(),r=P(),s=a.exports.useCallback(o=>{r(b(o)).then(I).then(c=>{e(`/product/${c._id}`)})},[]);return n("div",{className:"create__product",children:[t("h2",{children:"Product form"}),t(D,{onFormSubmit:s,submitText:"Create"})]})}function me(){return n("div",{className:"App",children:[t(se,{}),t("main",{children:n(Q,{children:[t(v,{path:"/",element:t(j,{}),exact:!0}),t(v,{path:"/products",element:t(B,{}),exact:!0}),t(v,{path:"/product/:id",element:t(G,{}),exact:!0}),t(v,{path:"/products/:id/edit",element:t(pe,{}),exact:!0}),t(v,{path:"/products/create",element:t(he,{}),exact:!0})]})}),t(ce,{})]})}var fe=W({reducer:{products:ae}});X.render(t(C.StrictMode,{children:t(Z,{store:fe,children:t(ee,{children:t(me,{})})})}),document.getElementById("root"));
